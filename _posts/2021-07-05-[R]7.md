---
layout: single
title:  "[Must Learning with R_7] Ch9. ggplot2를 활용한 다양한 그래프 그리기"
category: 'Must Learning with R'
toc: true
toc_sticky: true
---


Wikidocs에 올라와있는 [Must Learning with R](https://wikidocs.net/book/4315) 을 참고하며 방학동안 부족한 R programming 공부를 하고있습니다.

# Ch9. ggplot2를 활용한 다양한 그래프 그리기

ggplot2로 그릴 수 있는 그래프들의 종류에 대해 알아보겠습니다.


```R
library(ggplot2)
library(dplyr)

STOCK = read.csv("D:\\uniqlo.csv")

STOCK$Date = as.Date(STOCK$Date)
STOCK$Year = as.factor(format(STOCK$Date,"%Y"))
STOCK$Day = as.factor(format(STOCK$Date,"%a"))


Group_Data = STOCK %>%
  group_by(Year, Day) %>%
  dplyr::summarise(Mean = round(mean(Open)),
                   Median = round(median(Open)),
                   Max = round(max(Open)),
                   Counts = length(Open)
                   )
```

## A1. Bar Chart(막대그래프)
막대도표는 가장 기본적인 그래프

### 하나의 이산형 변수를 기준으로 x축 변수 1개로만 그리는 경우

```R
ggplot(Group_Data) +
  geom_bar(aes(x = as.factor(Counts), fill = ..count.. )) +
  xlab("") + ylab("") +
  scale_fill_gradient(low = "#CCE5FF", high = "#FF00FF") +
  theme_classic() + ggtitle("Countinuous Color")
```

![Image Alt 텍스트](/assets/images/9_A1_1.jpeg)



<br/><br/>

```R
Group_Data %>%
  ggplot() +
  geom_bar(aes(x = as.factor(Counts), fill = Day), alpha = 0.3) +
  ylab("") + ylab("") +
  theme_classic() + ggtitle("Discrete Color")
```

![Image Alt 텍스트](/assets/images/9_A1_1'.jpeg)


<br/><br/>



### 색 구분 포지션을 변경하고 싶은 경우

```R
ggplot(Group_Data) +
  geom_bar(aes(x = as.factor(Counts), fill = ..count.. )) +
  xlab("") + ylab("") +
  scale_fill_gradient(low = "#CCE5FF", high = "#FF00FF") +
  theme_classic() + ggtitle("Countinuous Color")
```

![Image Alt 텍스트](/assets/images/9_A1_2.jpeg)



<br/><br/>


### x축, y축 1개씩 총 변수 2개로 그리는 경우, stat='identity'를 사용합니다.


```R
ggplot(Group_Data) +
  geom_bar(aes(x = Year, y=Mean, fill = Day), stat = 'identity') +
  scale_fill_manual(values = c("#C2DAEF","#C2EFDD","#BBAAE9",
                               "#E9F298","#FABDB3")) +
  theme_classic()
```

![Image Alt 텍스트](/assets/images/9_A1_3.jpeg)



<br/><br/>


## A2. Histogram (히스토그램)

연속형 변수를 시각화

```R
ggplot(STOCK) +
  geom_histogram(aes(x = High, fill = ..x..),
                 binwidth = 1000) + 
                 #binwidth : 히스토그램의 변수 구간을 조정
  scale_fill_gradient(low = "#CCE5FF", high = "#FF00FF") +
  theme_classic() + labs(fill = "Labels Name")
```


![Image Alt 텍스트](/assets/images/9_A2_1.jpeg)


<br/><br/>




```R
ggplot(STOCK) +
  geom_histogram(aes(x = High, fill =Day),
                 binwidth = 1000, alpha = 0.3) +
  theme_classic() + labs(fill = "Labels Name")
```

![Image Alt 텍스트](/assets/images/9_A2_1'.jpeg)

<br/><br/>

```R
ggplot(STOCK) +
  geom_histogram(aes(x = High, fill = Day),
                 binwidth = 1000, alpha = 0.3, position = "dodge") +
  theme_classic() + labs(fill = "Label Name")
```


![Image Alt 텍스트](/assets/images/9_A2_2.jpeg)


<br/><br/>
